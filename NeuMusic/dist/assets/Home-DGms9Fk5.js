import{_ as P,u as N,a as U,b as L,m as M,c as p}from"./index-h1JUByrL.js";import{r as h,c as A,o as x,a as o,b as s,d as u,u as i,e as v,t as l,F as _,f as y,g as H,h as n}from"./vendor-DY0UzM5c.js";import"./utils-DOv6pLCg.js";const V={class:"home-page page-container"},B={class:"welcome-section"},D={class:"quick-actions"},E={key:0,class:"user-section"},F={class:"user-greeting"},j={class:"user-avatar-large"},q=["src","alt"],z={key:1,class:"fas fa-user"},T={class:"greeting-text"},G={class:"greeting-time"},J={class:"user-stats"},K={class:"stat-card neu-card"},O={class:"stat-number"},Q={class:"stat-card neu-card"},R={class:"stat-number"},W={class:"stat-card neu-card"},X={class:"stat-number"},Y={key:0,class:"user-playlists"},Z={class:"playlist-grid"},ss=["onClick"],as={class:"playlist-cover"},ts=["src","alt"],es={class:"playlist-info"},ds={key:1,class:"guest-section"},os={key:0,class:"hot-recommendations"},is={class:"song-grid"},ns=["onClick"],ls={class:"song-cover"},rs=["src","alt"],cs={class:"song-rank"},us={class:"song-details"},vs={class:"login-promotion"},ms={class:"promotion-content neu-card"},fs={key:2,class:"loading-overlay"},gs={__name:"Home",setup(ps){const d=N(),k=U(),r=L(),m=h(!1),f=h([]),b=A(()=>{const t=new Date().getHours();return t<6?"深夜好，夜猫子":t<12?"早上好，新的一天开始了":t<18?"下午好，休息一下吧":"晚上好，放松的时间到了"}),w=()=>{r.showSuccess("体验演示功能开发中...")},S=t=>{console.log("打开歌单:",t),t!=null&&t.id?r.showPlaylistModal(t.id):r.showModal("playlistModal")},C=t=>!(t!=null&&t.artists)||!Array.isArray(t.artists)?"未知歌手":t.artists.map(a=>a.name).join(" / "),$=async t=>{if(!d.isLoggedIn){r.showError("请先登录以体验完整功能");return}try{await k.playSong(t,[t],0),r.showSuccess(`开始播放: ${t.name}`)}catch{r.showError("播放失败")}},I=async()=>{try{m.value=!0;const t=await M.getPersonalizedNewsong(8);t.code===200&&(f.value=t.result.map(a=>{var e,c;return{id:a.id,name:a.name,artists:((e=a.song)==null?void 0:e.artists)||[],album:((c=a.song)==null?void 0:c.album)||{}}}))}catch(t){console.error("加载热门歌曲失败:",t)}finally{m.value=!1}};return x(()=>{d.isLoggedIn||I()}),(t,a)=>(n(),o("div",V,[s("div",B,[a[6]||(a[6]=s("h1",null,"NeuMusic",-1)),a[7]||(a[7]=s("p",{class:"welcome-subtitle"},"新拟态风格的音乐世界，与你共享",-1)),s("div",D,[i(d).isLoggedIn?u("",!0):(n(),o("button",{key:0,class:"neu-button primary-btn",onClick:a[0]||(a[0]=e=>t.$router.push("/login"))},[...a[3]||(a[3]=[s("i",{class:"fas fa-sign-in-alt"},null,-1),v(" 立即登录 ",-1)])])),s("button",{class:"neu-button",onClick:a[1]||(a[1]=e=>t.$router.push("/discover"))},[...a[4]||(a[4]=[s("i",{class:"fas fa-compass"},null,-1),v(" 发现音乐 ",-1)])]),s("button",{class:"neu-button",onClick:w},[...a[5]||(a[5]=[s("i",{class:"fas fa-music"},null,-1),v(" 体验演示 ",-1)])])])]),i(d).isLoggedIn?(n(),o("div",E,[s("div",F,[s("div",j,[i(d).avatarUrl?(n(),o("img",{key:0,src:i(d).avatarUrl,alt:i(d).nickname},null,8,q)):(n(),o("i",z))]),s("div",T,[s("h2",null,"欢迎回来，"+l(i(d).nickname)+"！",1),s("p",G,l(b.value),1)])]),s("div",J,[s("div",K,[s("div",O,l(i(d).createdPlaylists.length),1),a[8]||(a[8]=s("div",{class:"stat-label"},"创建的歌单",-1))]),s("div",Q,[s("div",R,l(i(d).subscribedPlaylists.length),1),a[9]||(a[9]=s("div",{class:"stat-label"},"收藏的歌单",-1))]),s("div",W,[s("div",X,l(i(d).likeList.length),1),a[10]||(a[10]=s("div",{class:"stat-label"},"喜欢的音乐",-1))])]),i(d).createdPlaylists.length>0?(n(),o("div",Y,[a[12]||(a[12]=s("h3",{class:"section-title"},"我的歌单",-1)),s("div",Z,[(n(!0),o(_,null,y(i(d).createdPlaylists.slice(0,6),e=>(n(),o("div",{key:e.id,class:"playlist-card neu-card",onClick:c=>S(e)},[s("div",as,[s("img",{src:i(p).getImageUrl(e.coverImgUrl,200),alt:e.name},null,8,ts),a[11]||(a[11]=s("div",{class:"playlist-overlay"},[s("i",{class:"fas fa-play-circle"})],-1))]),s("div",es,[s("h4",null,l(e.name),1),s("p",null,l(e.trackCount)+" 首歌曲",1)])],8,ss))),128))])])):u("",!0)])):(n(),o("div",ds,[a[18]||(a[18]=H('<div class="feature-highlights" data-v-9079add3><h2 class="section-title" data-v-9079add3>精彩功能</h2><div class="feature-grid" data-v-9079add3><div class="feature-card neu-card" data-v-9079add3><div class="feature-icon" data-v-9079add3><i class="fas fa-headphones" data-v-9079add3></i></div><h3 data-v-9079add3>高品质音乐</h3><p data-v-9079add3>支持无损音质，享受纯净音乐体验</p></div><div class="feature-card neu-card" data-v-9079add3><div class="feature-icon" data-v-9079add3><i class="fas fa-music" data-v-9079add3></i></div><h3 data-v-9079add3>个性化歌单</h3><p data-v-9079add3>智能推荐，创建专属于你的音乐歌单</p></div><div class="feature-card neu-card" data-v-9079add3><div class="feature-icon" data-v-9079add3><i class="fas fa-mobile-alt" data-v-9079add3></i></div><h3 data-v-9079add3>多端同步</h3><p data-v-9079add3>手机、电脑、平板，随时随地享受音乐</p></div><div class="feature-card neu-card" data-v-9079add3><div class="feature-icon" data-v-9079add3><i class="fas fa-heart" data-v-9079add3></i></div><h3 data-v-9079add3>社交音乐</h3><p data-v-9079add3>分享你的音乐品味，发现同好朋友</p></div></div></div>',1)),f.value.length>0?(n(),o("div",os,[a[14]||(a[14]=s("h2",{class:"section-title"},"热门推荐",-1)),s("div",is,[(n(!0),o(_,null,y(f.value,(e,c)=>{var g;return n(),o("div",{key:e.id,class:"song-card neu-card",onClick:hs=>$(e)},[s("div",ls,[s("img",{src:i(p).getImageUrl((g=e.album)==null?void 0:g.picUrl,150),alt:e.name},null,8,rs),a[13]||(a[13]=s("div",{class:"song-overlay"},[s("i",{class:"fas fa-play"})],-1)),s("div",cs,l(c+1),1)]),s("div",us,[s("h4",null,l(e.name),1),s("p",null,l(C(e)),1)])],8,ns)}),128))])])):u("",!0),s("div",vs,[s("div",ms,[a[16]||(a[16]=s("div",{class:"promotion-icon"},[s("i",{class:"fas fa-crown"})],-1)),a[17]||(a[17]=s("div",{class:"promotion-text"},[s("h3",null,"解锁更多精彩功能"),s("p",null,"登录后可以创建歌单、收藏音乐、同步听歌记录")],-1)),s("button",{class:"promotion-btn neu-button",onClick:a[2]||(a[2]=e=>t.$router.push("/login"))},[...a[15]||(a[15]=[s("i",{class:"fas fa-sign-in-alt"},null,-1),v(" 立即登录 ",-1)])])])])])),m.value?(n(),o("div",fs,[...a[19]||(a[19]=[s("div",{class:"loading-spinner"},null,-1)])])):u("",!0)]))}},bs=P(gs,[["__scopeId","data-v-9079add3"]]);export{bs as default};
